### **HydroSense - ESP32-S3 引脚规划**

| 功能分类 | 具体任务 | 选用引脚 | 板上丝印 | 引脚功能与选择理由 |
| :--- | :--- | :--- | :--- | :--- |
| **电源 & 系统** | **3.3V 主供电** | **3V3** | 3V3 | **(输入)** 来自XC6206 LDO的3.3V稳定电源，为整个开发板供电。 |
| | **系统地** | **GND** | GND | **(公共地)** 连接到系统的公共地。 |
| **模拟输入** | **土壤湿度传感器** | **GPIO4** | GPIO4 | `ADC1_CH3`, `RTC` |
| | **电池电压监测** | **GPIO7** | GPIO7 | `ADC1_CH6`, `RTC` |
| **数字输出** | **12V升压模块开关** | **GPIO9** | GPIO9 | `RTC`, `ADC1_CH8` |
| *(电源门控)* | **传感器电源开关** | **GPIO10** | GPIO10 | `RTC`, `ADC1_CH9` |
| | **墨水屏电源开关** | **GPIO11** | GPIO11 | `RTC`, `ADC2_CH0` |
| **数字输出** | **水泵控制** | **GPIO12** | GPIO12 | `RTC`, `ADC2_CH1` (通过NPN三极管驱动外部MOSFET) |
| *(执行器控制)* | **电磁阀控制** | **GPIO13** | GPIO13 | `RTC`, `ADC2_CH2` (通过NPN三极管驱动外部MOSFET) |
| **用户输入** | **旋转编码器 A相** | **GPIO1** | GPIO1 | `RTC`, `ADC1_CH0` |
| *(中断唤醒)* | **旋转编码器 B相** | **GPIO2** | GPIO2 | `RTC`, `ADC1_CH1` |
| | **旋转编码器 按键** | **GPIO3** | GPIO3 | `RTC`, `ADC1_CH2` |
| | **模式开关 输入1** | **GPIO5** | GPIO5 | `RTC`, `ADC1_CH4` |
| | **模式开关 输入2** | **GPIO6** | GPIO6 | `RTC`, `ADC1_CH5` |
| **SPI总线** | **墨水屏 SCK (时钟)** | **GPIO36** | GPIO36 | `SPIIO7` |
| *(显示驱动)* | **墨水屏 MOSI (数据)** | **GPIO35** | GPIO35 | `FSPIHD` |
| | **墨水屏 CS (片选)** | **GPIO37** | GPIO37 | `SPIDQS` |
| | **墨水屏 DC (数据/命令)** | **GPIO38** | GPIO38 | `FSPIWP` |
| | **墨水屏 RST (复位)** | **GPIO14** | GPIO14 | `RTC`, `ADC2_CH3` |
| | **墨水屏 BUSY (忙状态)** | **GPIO15** | GPIO15 | `RTC`, `ADC2_4` |
| **保留/禁用** | **USB转串口** | **GPIO43, GPIO44** | U0TXD, U0RXD | 板载CH343芯片已使用，**严禁**用于其他功能。 |
| | **启动模式引脚** | **GPIO0, GPIO46** | GPIO0, LOG | Strapping Pins，**强烈建议**不使用，以免影响正常启动。 |
| | **板载USB** | **GPIO19, GPIO20** | USB_D-, USB_D+ | 用于USB-OTG功能，规划中暂不使用。 |